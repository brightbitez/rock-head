<div class="container-fluid">
  <h3 style="text-align: center;">Logs</h3>
</div>

<!-- Filter : ALL, ADD, MODIFY, REMOVE-->
<div class="container-fluid">
  <div class="row">
    <div class="col-md-4 offset-md-4" style="text-align:right; font-size: 1.2em;">Filter :</div> 
    <div class="col-md-4 offset-md-4 ml-auto">
    <select id = "selectFilterLogs "class="form-control" #selectFormId (change)="toggleAdd(selectFormId.value)">
        <option id="allLog" value="">ALL</option>
        <option id="addLog" value="001">Add</option>
        <option id="modifyLog" value="002">Modify</option>
        <option id="remove" value="003">Remove</option>
      </select>
    </div>
  </div>
</div>
<br />
<!-- Table Log-->
<div class="container-fluid">
  <div class="table-responsive">
    <table class="table table-bordered table-striped" id="table_log">
      <thead>
        <tr style="text-align: center;">
          <th scope="col" class="row-No">Log ID</th>
          <th scope="col" class="row-event-massage">Event Message</th>
          <th scope="col" class="row-form">Form ID</th>
          <th scope="col" class="row-by">By</th>
          <th scope="col" class="row-date-time">Date Time</th>
          <th scope="col" class="row-field-name"> Field Name</th>
        </tr>
      </thead>
      <tbody *ngIf="contents != undefined">
        <ng-container *ngFor="let logContent of contents.content | formIdFilter: formIdFilter; let i = index;">
          <ng-container *ngIf="logContent.log_objects.length > 1">
            <ng-container *ngFor="let item of logContent.log_objects; let j = index;">
              <tr style="text-align: center;">
                <td
                  [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                  {{i+1+j}}</td>
                <td
                  [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                  {{item.event_message}}</td>
                <td
                  [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                  {{item.form_id}}</td>
                <td
                  [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                  {{logContent.admin.email}}</td>
                <td
                  [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                  {{logContent.date_of_event | date:'medium'}}</td>
                <td
                  [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                  {{item.element_name}}</td>
              </tr>
            </ng-container>
          </ng-container>
          <ng-container *ngIf="logContent.log_objects.length == 1">
            <tr style="text-align: center;">
              <td
                [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                {{i+1}} </td>
              <td
                [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                {{logContent.log_objects[0].event_message}}</td>
              <td
                [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                {{logContent.log_objects[0].form_id}}</td>
              <td
                [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                {{logContent.admin.email}}</td>
              <td
                [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                {{logContent.date_of_event | date:'medium'}}</td>
              <td
                [ngStyle]="{'color': logContent.log_objects[0].form_id == '001'? 'green':(logContent.log_objects[0].form_id == '002'? '#FFD000': '#B30606')}">
                {{logContent.log_objects[0].element_name}}</td>
            </tr>
          </ng-container>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>